{"version":3,"sources":["Cart.js","actions/cartActions.js","CreateProcurement.js","actions/productsActions.js","actions/notificationActions.js","partials/Header.js","actions/procurementActions.js"],"names":["Cart","props","removeFromCart","productId","console","log","cart","cartItems","auth","user","cityCode","userId","onChangeQuantity","event","target","name","quantity","value","updateCart","state","this","isLoading","className","length","class","scope","map","cartItem","index","key","productNameEn","type","ref","c","defaultValue","onChange","onClick","Component","connect","authorization","items","qty","userid","dispatch","slice","forEach","item","parseInt","localStorage","setItem","JSON","stringify","UPDATE_CART","payload","hasError","error","description","toString","errorLogging","filter","elm","REMOVE_FROM_CART","CreateProcurement","componentDidMount","window","scrollTo","onChangeDate","date","setState","onChangeProduct","product","loadStats","token","cookie","get","clientAxios","defaults","headers","common","then","res","isDev","productStats","data","catch","e","response","onChangeUser","onChangeAmount","amountGiven","amount","onSubmitToCart","preventDefault","isCartLoading","addToCart","setTimeout","onSubmitProcurement","currentDate","getFullYear","getMonth","getDate","cityId","products","asigned_to","amount_given","city_id","post","statusCode","deleteCart","history","push","pathname","search","errorApi","errorApiMsg","status","message","getProductStats","stats","format","createdAt","totalQuantity","Date","fetchProductsList","getUsers","Header","role","onSubmit","productsList","options","id","placeholder","required","users","createProcurementList","a","FETCH_PRODUCTS_LIST","productAlreadyInCart","productNameUr","unit","productUnit","unitEn","ADD_TO_CART","removeItem","DELETE_CART","errorNotify","bol","APP_ERROR_NOTIFICATION","platform","location","title","flag","errors","axios","to","city","data-toggle","data-target","aria-controls","aria-expanded","aria-label","aria-haspopup","aria-labelledby","asignedTo","CREATE_PROCUREMENT_LIST","fetchProcurementList","FETCH_PROCUREMENT_LIST","fetchProcurementDetails","FETCH_PROCUREMENT_DETAILS"],"mappings":"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","file":"static/js/8.335992fb.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { updateCart, removeFromCart } from \"./actions/cartActions\";\r\n\r\nclass Cart extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\tremoveFromCart = (productId) => {\r\n\t\tconsole.log(\"removed from list\");\r\n\t\tthis.props.removeFromCart(\r\n\t\t\tthis.props.cart.cartItems,\r\n\t\t\tproductId,\r\n\t\t\tthis.props.auth.user.cityCode,\r\n\t\t\tthis.props.auth.user.userId\r\n\t\t);\r\n\t};\r\n\r\n\tonChangeQuantity = (event) => {\r\n\t\tconst productId = event.target.name;\r\n\t\tconst quantity = event.target.value;\r\n\t\tthis.props.updateCart(\r\n\t\t\tthis.props.cart.cartItems,\r\n\t\t\tproductId,\r\n\t\t\tquantity,\r\n\t\t\tthis.props.auth.user.cityCode,\r\n\t\t\tthis.props.auth.user.userId\r\n\t\t);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconsole.log(this.props.cart);\r\n\t\tif (!this.props.cart.isLoading) {\r\n\t\t\tif (this.props.cart.cartItems.length > 0) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"p-3\">\r\n\t\t\t\t\t\t<table class=\"table table-responsive\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">#</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Product Name</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Quantity</th>\r\n\t\t\t\t\t\t\t\t\t<th scope=\"col\">Action</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.props.cart.cartItems.map(\r\n\t\t\t\t\t\t\t\t\t(cartItem, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<tr key={cartItem.productId}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{index + 1}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{cartItem.productNameEn}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={cartItem.productId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={(c) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(this.quantity = c)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcartItem.quantity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.onChangeQuantity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-red-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.removeFromCart(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcartItem.productId\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tremove\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"card shodow p-4\">\r\n\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t<h4>No item added yet</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn <div className=\"spinner\"></div>;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tcart: state.cart.cart,\r\n\tauth: state.authorization.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateCart, removeFromCart })(Cart);\r\n","import {\r\n\tADD_TO_CART,\r\n\tREMOVE_FROM_CART,\r\n\tUPDATE_CART,\r\n\tDELETE_CART,\r\n} from \"./types\";\r\nimport { errorLogging } from \"./notificationActions\";\r\nimport { isDev, clientAxios } from \"../config//config\";\r\n\r\nexport const addToCart = (cart, productId, qty, cityCode, userid) => (\r\n\tdispatch\r\n) => {\r\n\tclientAxios\r\n\t\t.get(`/cart/products/${productId}`)\r\n\t\t.then((res) => {\r\n\t\t\tif (isDev) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t}\r\n\t\t\tconst cartItems = cart.slice();\r\n\t\t\tlet productAlreadyInCart = false;\r\n\t\t\tif (cartItems.length > 0) {\r\n\t\t\t\tcartItems.forEach((item) => {\r\n\t\t\t\t\tif (item.productId === productId) {\r\n\t\t\t\t\t\tproductAlreadyInCart = true;\r\n\t\t\t\t\t\titem.quantity = parseInt(qty);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (!productAlreadyInCart) {\r\n\t\t\t\tcartItems.push({\r\n\t\t\t\t\tproductId: productId,\r\n\t\t\t\t\tquantity: parseInt(qty),\r\n\t\t\t\t\tproductNameEn: res.data.data.productNameEn,\r\n\t\t\t\t\tproductNameUr: res.data.data.productNameUr,\r\n\t\t\t\t\tunit: res.data.data.productUnit.unitEn,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\"cart_pos_\" + cityCode,\r\n\t\t\t\tJSON.stringify(cartItems)\r\n\t\t\t);\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: ADD_TO_CART,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\thasError: true,\r\n\t\t\t\t\tcartItems: cartItems,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((e) => {\r\n\t\t\tif (isDev) {\r\n\t\t\t\tconsole.log(e.response);\r\n\t\t\t}\r\n\t\t\tconst platform = \"website\";\r\n\t\t\tconst description = JSON.stringify(e.response.data);\r\n\t\t\terrorLogging(\r\n\t\t\t\tplatform,\r\n\t\t\t\t\"actions/cartActions\",\r\n\t\t\t\t\"addToCart function error\",\r\n\t\t\t\tdescription,\r\n\t\t\t\t1,\r\n\t\t\t\tuserid\r\n\t\t\t);\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: ADD_TO_CART,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\thasError: true,\r\n\t\t\t\t\tcartItems: cart,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\nexport const removeFromCart = (items, productId, cityCode, userid) => (\r\n\tdispatch\r\n) => {\r\n\ttry {\r\n\t\tconst cartItems = items\r\n\t\t\t.slice()\r\n\t\t\t.filter((elm) => elm.productId !== productId);\r\n\t\tlocalStorage.setItem(\"cart_pos_\" + cityCode, JSON.stringify(cartItems));\r\n\t\treturn dispatch({\r\n\t\t\ttype: REMOVE_FROM_CART,\r\n\t\t\tpayload: {\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\thasError: false,\r\n\t\t\t\tcartItems: cartItems,\r\n\t\t\t},\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tconst platform = \"website\";\r\n\t\tconst description = error.toString();\r\n\t\terrorLogging(\r\n\t\t\tplatform,\r\n\t\t\t\"actions/cartActions\",\r\n\t\t\t\"removeFromCart function error\",\r\n\t\t\tdescription,\r\n\t\t\t1,\r\n\t\t\tuserid\r\n\t\t);\r\n\t\treturn dispatch({\r\n\t\t\ttype: REMOVE_FROM_CART,\r\n\t\t\tpayload: {\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\thasError: true,\r\n\t\t\t\tcartItems: items,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateCart = (items, productId, qty, cityCode, userid) => (\r\n\tdispatch\r\n) => {\r\n\ttry {\r\n\t\tconst cartItems = items.slice();\r\n\t\tcartItems.forEach((item) => {\r\n\t\t\tif (item.productId === parseInt(productId)) {\r\n\t\t\t\titem.quantity = parseInt(qty);\r\n\t\t\t}\r\n\t\t});\r\n\t\tlocalStorage.setItem(\"cart_pos_\" + cityCode, JSON.stringify(cartItems));\r\n\t\treturn dispatch({\r\n\t\t\ttype: UPDATE_CART,\r\n\t\t\tpayload: {\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\thasError: false,\r\n\t\t\t\tcartItems: cartItems,\r\n\t\t\t},\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tconst platform = \"website\";\r\n\t\tconst description = error.toString();\r\n\t\terrorLogging(\r\n\t\t\tplatform,\r\n\t\t\t\"actions/cartActions\",\r\n\t\t\t\"updateCart function error\",\r\n\t\t\tdescription,\r\n\t\t\t1,\r\n\t\t\tuserid\r\n\t\t);\r\n\t\treturn dispatch({\r\n\t\t\ttype: UPDATE_CART,\r\n\t\t\tpayload: {\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\thasError: true,\r\n\t\t\t\tcartItems: items,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deleteCart = (cityCode) => (dispatch) => {\r\n\tlocalStorage.removeItem(\"cart_pos_\" + cityCode);\r\n\treturn dispatch({\r\n\t\ttype: DELETE_CART,\r\n\t\tpayload: {\r\n\t\t\tisLoading: false,\r\n\t\t\thasError: false,\r\n\t\t\tcartItems: [],\r\n\t\t},\r\n\t});\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Header from \"./partials/Header\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createProcurementList } from \"./actions/procurementActions\";\r\nimport { fetchProductsList } from \"./actions/productsActions\";\r\nimport { addToCart, deleteCart } from \"./actions/cartActions\";\r\nimport { getUsers } from \"./actions/authActions\";\r\nimport Select from \"react-select\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport Cart from \"./Cart\";\r\nimport { isDev, clientAxios } from \"./config/config\";\r\nimport cookie from \"js-cookie\";\r\nimport Moment from \"react-moment\";\r\n\r\nclass CreateProcurement extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdate: new Date(),\r\n\t\t\tuserId: \"\",\r\n\t\t\tproductId: \"\",\r\n\t\t\tquantity: \"\",\r\n\t\t\tamountGiven: \"\",\r\n\t\t\terrorApi: false,\r\n\t\t\terrorApiMsg: \"\",\r\n\t\t\tloadStats: false,\r\n\t\t\tisCartLoading: false,\r\n\t\t\tproductStats: {},\r\n\t\t};\r\n\t\tthis.props.fetchProductsList(this.props.auth.user.cityCode, \"\");\r\n\t\tthis.props.getUsers();\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\twindow.scrollTo(0, 0);\r\n\t};\r\n\r\n\tonChangeDate = (date) => {\r\n\t\tthis.setState({ date: date });\r\n\t};\r\n\r\n\tonChangeProduct = (product) => {\r\n\t\tthis.setState({ productId: product.value, loadStats: false });\r\n\t\tconst token = cookie.get(\"fth_pos_token\");\r\n\t\tclientAxios.defaults.headers.common[\r\n\t\t\t\"Authorization\"\r\n\t\t] = `Bearer ${token}`;\r\n\t\tclientAxios\r\n\t\t\t.get(`/admin/procurement/product/${product.value}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ productStats: res.data.data, loadStats: true });\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(e.response);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tonChangeUser = (user) => {\r\n\t\tthis.setState({ userId: user.value });\r\n\t};\r\n\r\n\tonChangeQuantity = () => {\r\n\t\tthis.setState({ quantity: this.quantity.value });\r\n\t};\r\n\r\n\tonChangeAmount = () => {\r\n\t\tthis.setState({ amountGiven: this.amount.value });\r\n\t};\r\n\r\n\tonSubmitToCart = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({ isCartLoading: true });\r\n\t\tthis.props.addToCart(\r\n\t\t\tthis.props.cart.cartItems,\r\n\t\t\tthis.state.productId,\r\n\t\t\tthis.state.quantity,\r\n\t\t\tthis.props.auth.user.cityCode,\r\n\t\t\tthis.props.auth.user.userId\r\n\t\t);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({ isCartLoading: false });\r\n\t\t}, 500);\r\n\t};\r\n\r\n\tonSubmitProcurement = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst currentDate =\r\n\t\t\tthis.state.date.getFullYear() +\r\n\t\t\t\"-\" +\r\n\t\t\t(this.state.date.getMonth() + 1) +\r\n\t\t\t\"-\" +\r\n\t\t\tthis.state.date.getDate();\r\n\t\tif (\r\n\t\t\tthis.props.cart.cartItems.length > 0 &&\r\n\t\t\tthis.state.userId !== \"\" &&\r\n\t\t\tthis.props.auth.user.cityId &&\r\n\t\t\tthis.state.amountGiven !== \"\"\r\n\t\t) {\r\n\t\t\tconst data = {\r\n\t\t\t\tproducts: this.props.cart.cartItems,\r\n\t\t\t\tasigned_to: this.state.userId,\r\n\t\t\t\tamount_given: this.state.amountGiven,\r\n\t\t\t\tdate: currentDate,\r\n\t\t\t\tcity_id: this.props.auth.user.cityId,\r\n\t\t\t};\r\n\t\t\tclientAxios\r\n\t\t\t\t.post(\"/admin/procurement\", data)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (isDev) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data.statusCode === 200) {\r\n\t\t\t\t\t\tthis.props.deleteCart(this.props.auth.user.cityCode);\r\n\t\t\t\t\t\tthis.props.history.push({\r\n\t\t\t\t\t\t\tpathname: \"/procurement\",\r\n\t\t\t\t\t\t\tsearch: \"?status=1\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\t\terrorApi: true,\r\n\t\t\t\t\t\t\terrorApiMsg: \"Something went wrong.\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\tif (isDev) {\r\n\t\t\t\t\t\tconsole.log(e.response);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (e.response.status === 400) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\t\terrorApi: true,\r\n\t\t\t\t\t\t\terrorApiMsg: e.response.data.message,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\t\terrorApi: true,\r\n\t\t\t\t\t\t\terrorApiMsg: \"Something went wrong, Try Again!\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\terrorApi: true,\r\n\t\t\t\terrorApiMsg: \"please fill all the information\",\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tgetProductStats = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"card shadow rounded\">\r\n\t\t\t\t<div className=\"d-inline-flex\">\r\n\t\t\t\t\t{this.state.productStats.map((stats) => (\r\n\t\t\t\t\t\t<div className=\"p-2 w-25\">\r\n\t\t\t\t\t\t\t<h6 className=\"text-center\">\r\n\t\t\t\t\t\t\t\t<Moment format=\"D MMM\">\r\n\t\t\t\t\t\t\t\t\t{stats.createdAt}\r\n\t\t\t\t\t\t\t\t</Moment>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<h6 className=\"text-center\">\r\n\t\t\t\t\t\t\t\t{stats.totalQuantity}\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<section className=\"bg-light py-5 min-height-100\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t{this.state.errorApi ? (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\"alert alert-danger\"\r\n\t\t\t\t\t\t\t\t\t\trole=\"alert\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.errorApiMsg}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"card shadow rounded\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"p-4\">\r\n\t\t\t\t\t\t\t\t\t\t<form onSubmit={this.onSubmitToCart}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.onChangeDate\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.date}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <label htmlFor=\"product\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect Product\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{!this.props\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.productsList\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.isLoading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.onChangeProduct\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.productsList\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.response\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.data\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.loadStats ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-100 mx-auto my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.getProductStats()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <label htmlFor=\"quantity\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tQuantity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"quantity\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"enter quantity\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tref={(c) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(this.quantity = c)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.onChangeQuantity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"m-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-green-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card shahdow rounded mt-4\">\r\n\t\t\t\t\t\t\t\t\t{!this.props.cart.cartItems.isLoading &&\r\n\t\t\t\t\t\t\t\t\t!this.state.isCartLoading ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"pt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Cart />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<div className=\"p-3\">\r\n\t\t\t\t\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\t\t\t\t\tonSubmit={this.onSubmitProcurement}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <label htmlFor=\"product\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect Product\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{!this.props.users\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.isLoading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.onChangeUser\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.users\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.response\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.data\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <label htmlFor=\"quantity\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tQuantity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"amount\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"amount\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Amount\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tref={(c) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(this.amount = c)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.onChangeAmount\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col mx-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"m-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-green-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.authorization.auth,\r\n\tusers: state.authorization.users,\r\n\tproductsList: state.products.productsList,\r\n\tcart: state.cart.cart,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tcreateProcurementList,\r\n\tfetchProductsList,\r\n\taddToCart,\r\n\tdeleteCart,\r\n\tgetUsers,\r\n})(CreateProcurement);\r\n","import {\r\n\tFETCH_PRODUCTS,\r\n\tFETCH_PRODUCTS_LIST,\r\n\tFETCH_SEARCH_PRODUCTS,\r\n\tFETCH_PRODUCT,\r\n} from \"./types\";\r\nimport { isDev, clientAxios } from \"../config/config\";\r\nimport { errorLogging } from \"./notificationActions\";\r\n\r\nexport const fetchProducts = (category, sortby, cityCode, userId) => {\r\n\tconsole.log(category);\r\n\tif (category === undefined) {\r\n\t\tcategory = \"\";\r\n\t}\r\n\treturn async (dispatch) => {\r\n\t\tawait clientAxios\r\n\t\t\t.get(\r\n\t\t\t\t`/api/v1/category/products?category=${category}&sortby=${sortby}&city_code=${cityCode}`\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FETCH_PRODUCTS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: false,\r\n\t\t\t\t\t\tresponse: res.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(e.response);\r\n\t\t\t\t}\r\n\t\t\t\tif (e.response.status !== 400) {\r\n\t\t\t\t\tconst platform = \"website\";\r\n\t\t\t\t\tconst location = \"actions/productActions.js\";\r\n\t\t\t\t\tconst title = \"/api/v1/category/products api error\";\r\n\t\t\t\t\tconst description = JSON.stringify(e.response.data);\r\n\t\t\t\t\tconst flag = 1;\r\n\t\t\t\t\terrorLogging(\r\n\t\t\t\t\t\tplatform,\r\n\t\t\t\t\t\tlocation,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tflag,\r\n\t\t\t\t\t\tuserId\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FETCH_PRODUCTS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: true,\r\n\t\t\t\t\t\tresponse: e.response.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const fetchProductsList = (cityCode, userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tawait clientAxios\r\n\t\t\t.get(`/productslist?city_code=${cityCode}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FETCH_PRODUCTS_LIST,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: false,\r\n\t\t\t\t\t\tresponse: res.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(e.response);\r\n\t\t\t\t}\r\n\t\t\t\tif (e.response.status !== 400) {\r\n\t\t\t\t\tconst platform = \"website\";\r\n\t\t\t\t\tconst location = \"actions/productActions.js\";\r\n\t\t\t\t\tconst title = \"/api/v1/productlist api error\";\r\n\t\t\t\t\tconst description = JSON.stringify(e.response.data);\r\n\t\t\t\t\tconst flag = 1;\r\n\t\t\t\t\terrorLogging(\r\n\t\t\t\t\t\tplatform,\r\n\t\t\t\t\t\tlocation,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tflag,\r\n\t\t\t\t\t\tuserId\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FETCH_PRODUCTS_LIST,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: true,\r\n\t\t\t\t\t\tresponse: e.response.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const fetchSearchProducts = (search, cityCode, userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tawait clientAxios\r\n\t\t\t.get(\r\n\t\t\t\t`/api/v1/search/products?search=${search}&city_code=${cityCode}`\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FETCH_SEARCH_PRODUCTS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: false,\r\n\t\t\t\t\t\tresponse: res.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(e.response);\r\n\t\t\t\t}\r\n\t\t\t\tif (e.response.status !== 400) {\r\n\t\t\t\t\tconst platform = \"website\";\r\n\t\t\t\t\tconst location = \"actions/productActions.js\";\r\n\t\t\t\t\tconst title = \"/api/v1/search/products api error\";\r\n\t\t\t\t\tconst description = JSON.stringify(e.response.data);\r\n\t\t\t\t\tconst flag = 1;\r\n\t\t\t\t\terrorLogging(\r\n\t\t\t\t\t\tplatform,\r\n\t\t\t\t\t\tlocation,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tflag,\r\n\t\t\t\t\t\tuserId\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FETCH_SEARCH_PRODUCTS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: true,\r\n\t\t\t\t\t\tresponse: e.response.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const fetchProduct = (product, city, userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tawait clientAxios\r\n\t\t\t.get(`/api/v1/products/${product}?city_code=${city}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FETCH_PRODUCT,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: false,\r\n\t\t\t\t\t\tresponse: res.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(e.response);\r\n\t\t\t\t}\r\n\t\t\t\tif (e.response.status !== 400) {\r\n\t\t\t\t\tconst platform = \"website\";\r\n\t\t\t\t\tconst location = \"actions/productActions.js\";\r\n\t\t\t\t\tconst title = \"/api/v1/products/productId api error\";\r\n\t\t\t\t\tconst description = JSON.stringify(e.response.data);\r\n\t\t\t\t\tconst flag = 1;\r\n\t\t\t\t\terrorLogging(\r\n\t\t\t\t\t\tplatform,\r\n\t\t\t\t\t\tlocation,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tflag,\r\n\t\t\t\t\t\tuserId\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FETCH_PRODUCT,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: true,\r\n\t\t\t\t\t\tresponse: e.response.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n};\r\n","import { APP_ERROR_NOTIFICATION } from \"./types\";\r\nimport { isDev } from \"../config/config\";\r\nimport axios from \"axios\";\r\n\r\nexport const errorNotify = (bol) => (dispatch) => {\r\n\treturn dispatch({\r\n\t\ttype: APP_ERROR_NOTIFICATION,\r\n\t\tpayload: bol,\r\n\t});\r\n};\r\n\r\nexport const errorLogging = (\r\n\tplatform,\r\n\tlocation,\r\n\ttitle,\r\n\tdescription,\r\n\tflag,\r\n\tuserid\r\n) => {\r\n\tconst errors = {\r\n\t\tplatform: platform,\r\n\t\tuserid: userid,\r\n\t\tlocation: location,\r\n\t\ttitle: title,\r\n\t\tdescription: description,\r\n\t\tflag: flag,\r\n\t};\r\n\taxios\r\n\t\t.post(\"/api/v1/error/notification\", errors)\r\n\t\t.then((res) => {\r\n\t\t\tif (isDev) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t})\r\n\t\t.catch((e) => {\r\n\t\t\tif (isDev) {\r\n\t\t\t\tconsole.log(e.response);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t});\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Header extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<nav className=\"navbar navbar-expand-lg navbar-light bg-white\">\r\n\t\t\t\t<Link className=\"navbar-brand\" to=\"/\">\r\n\t\t\t\t\t<h4>Farm To Home - {this.props.auth.user.city}</h4>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"navbar-toggler\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tdata-toggle=\"collapse\"\r\n\t\t\t\t\tdata-target=\"#navbarSupportedContent\"\r\n\t\t\t\t\taria-controls=\"navbarSupportedContent\"\r\n\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\taria-label=\"Toggle navigation\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"collapse navbar-collapse\"\r\n\t\t\t\t\tid=\"navbarSupportedContent\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t\t\t<li className=\"nav-item active\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tclassName=\"nav-link\"\r\n\t\t\t\t\t\t\t\tto=\"/procurement\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tPrecurement\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className=\"nav-item dropdown\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"btn-red-sm dropdown-toggle\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tid=\"dropdownMenuButton\"\r\n\t\t\t\t\t\t\t\tdata-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.props.auth.user.name}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"dropdown-menu\"\r\n\t\t\t\t\t\t\t\taria-labelledby=\"dropdownMenuButton\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to=\"/\" className=\"dropdown-item\">\r\n\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.authorization.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import {\r\n\tFETCH_PROCUREMENT_LIST,\r\n\tUPDATE_PROCUREMENT,\r\n\tFETCH_PROCUREMENT_DETAILS,\r\n\tCREATE_PROCUREMENT_LIST,\r\n} from \"./types\";\r\nimport { isDev, clientAxios } from \"../config/config\";\r\nimport { errorLogging } from \"./notificationActions\";\r\n// import Cookie from \"js-cookie\";\r\n\r\nexport const createProcurementList = (\r\n\tamount,\r\n\tasignedTo,\r\n\tcityId,\r\n\tproducts,\r\n\tuserId\r\n) => {\r\n\tconst data = {\r\n\t\tamount_given: amount,\r\n\t\tasigned_to: asignedTo,\r\n\t\tcity_id: cityId,\r\n\t\tproducts: products,\r\n\t};\r\n\treturn async (dispatch) => {\r\n\t\tawait clientAxios\r\n\t\t\t.post(\"/admin/procurement\", data)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: CREATE_PROCUREMENT_LIST,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: false,\r\n\t\t\t\t\t\tresponse: res.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(e.response);\r\n\t\t\t\t}\r\n\t\t\t\tif (e.response.status !== 400) {\r\n\t\t\t\t\tconst platform = \"website\";\r\n\t\t\t\t\tconst location = \"actions/productActions.js\";\r\n\t\t\t\t\tconst title = \"/api/v1/category/products api error\";\r\n\t\t\t\t\tconst description = JSON.stringify(e.response.data);\r\n\t\t\t\t\tconst flag = 1;\r\n\t\t\t\t\terrorLogging(\r\n\t\t\t\t\t\tplatform,\r\n\t\t\t\t\t\tlocation,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tflag,\r\n\t\t\t\t\t\tuserId\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: CREATE_PROCUREMENT_LIST,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: true,\r\n\t\t\t\t\t\tresponse: e.response.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const fetchProcurementList = (userId) => (dispatch) => {\r\n\t// const token = Cookie.get(\"fth_pos_token\");\r\n\t// clientAxios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n\tclientAxios\r\n\t\t.get(\"/admin/procurement\")\r\n\t\t.then((res) => {\r\n\t\t\tif (isDev) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: FETCH_PROCUREMENT_LIST,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\thasError: false,\r\n\t\t\t\t\tresponse: res.data,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((e) => {\r\n\t\t\tif (isDev) {\r\n\t\t\t\tconsole.log(e.response);\r\n\t\t\t}\r\n\t\t\tif (e.response.status !== 400) {\r\n\t\t\t\tconst platform = \"website\";\r\n\t\t\t\tconst location = \"actions/productActions.js\";\r\n\t\t\t\tconst title = \"/api/v1/category/products api error\";\r\n\t\t\t\tconst description = JSON.stringify(e.response.data);\r\n\t\t\t\tconst flag = 1;\r\n\t\t\t\terrorLogging(\r\n\t\t\t\t\tplatform,\r\n\t\t\t\t\tlocation,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdescription,\r\n\t\t\t\t\tflag,\r\n\t\t\t\t\tuserId\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: FETCH_PROCUREMENT_LIST,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\thasError: true,\r\n\t\t\t\t\tresponse: e.response.data,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\nexport const fetchProcurementDetails = (id, userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tawait clientAxios\r\n\t\t\t.get(`/admin/procurement/${id}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FETCH_PROCUREMENT_DETAILS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: false,\r\n\t\t\t\t\t\tresponse: res.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(e.response);\r\n\t\t\t\t}\r\n\t\t\t\tif (e.response.status !== 400) {\r\n\t\t\t\t\tconst platform = \"website\";\r\n\t\t\t\t\tconst location = \"actions/productActions.js\";\r\n\t\t\t\t\tconst title = \"/api/v1/category/products api error\";\r\n\t\t\t\t\tconst description = JSON.stringify(e.response.data);\r\n\t\t\t\t\tconst flag = 1;\r\n\t\t\t\t\terrorLogging(\r\n\t\t\t\t\t\tplatform,\r\n\t\t\t\t\t\tlocation,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tflag,\r\n\t\t\t\t\t\tuserId\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FETCH_PROCUREMENT_DETAILS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: true,\r\n\t\t\t\t\t\tresponse: e.response.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const updateProcurementList = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tawait clientAxios\r\n\t\t\t.get(\"/admin/procurement\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_PROCUREMENT,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: false,\r\n\t\t\t\t\t\tresponse: res.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tif (isDev) {\r\n\t\t\t\t\tconsole.log(e.response);\r\n\t\t\t\t}\r\n\t\t\t\tif (e.response.status !== 400) {\r\n\t\t\t\t\tconst platform = \"website\";\r\n\t\t\t\t\tconst location = \"actions/productActions.js\";\r\n\t\t\t\t\tconst title = \"/api/v1/category/products api error\";\r\n\t\t\t\t\tconst description = JSON.stringify(e.response.data);\r\n\t\t\t\t\tconst flag = 1;\r\n\t\t\t\t\terrorLogging(\r\n\t\t\t\t\t\tplatform,\r\n\t\t\t\t\t\tlocation,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tflag,\r\n\t\t\t\t\t\tuserId\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_PROCUREMENT,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\t\thasError: true,\r\n\t\t\t\t\t\tresponse: e.response.data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n};\r\n"],"sourceRoot":""}